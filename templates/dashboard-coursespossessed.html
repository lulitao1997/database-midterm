{% extends "dashboard-base.html" %}

{% block dashboard_content %}
<h2>我的课表</h2>
<div class="table-responsive">
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <th>#</th>
        <th><div style="width: 90px;">周日</div></th>
        <th><div style="width: 90px;">周一</div></th>
        <th><div style="width: 90px;">周二</div></th>
        <th><div style="width: 90px;">周三</div></th>
        <th><div style="width: 90px;">周四</div></th>
        <th><div style="width: 90px;">周五</div></th>
        <th><div style="width: 90px;">周六</div></th>
      </tr>
    </thead>
    <tbody>
      {% for j in [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 ] %}
      <tr>
        <td>{{ j }}</td>
        {% for i in [ 7, 1, 2, 3, 4, 5, 6 ] %}
        <td id="{{ i }}-{{ j }}">{{ cnameincell[i][j] }}</td>
        {% endfor %}
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<hr>
<br>
<h2>已选课程</h2>
<div class="table-responsive">
  <table class="table table-striped table-bordered">
	<thead>
	  <th><div style="width: 140px;">课程编号</div></th>
	  <th><div style="width: 140px;">课程名</div></th>
	  <th><div style="width: 140px;">教师</div></th>
	  <th><div style="width: 140px;">学分</div></th>
	  <th><div style="width: 100px;">容量</div></th>
	  <th><div style="width: 60px;">选项</div></th>
	</thead>
	<tbody>
	  {% for cou in course %}
	  <form method="POST">
	  <tr>
		{% for info in cou.info %}
		<th onclick="HighLightCell{{ cou.cid }}()">{{ info }} </th>
		{% endfor %}
		<th>
			<input type="hidden" name="drop" value="{{ cou.cid }}"></input>
			<div class="btn-group">
				<button type="submit" class="btn btn-warning btn-block btn-sm" type=submit>
					退课
				</button>
				<a class="btn btn-success btn-sm" href="/dashboard-courseinfo-{{ cou.cid }}">
					信息
				</a>
			</div>
		</th>
	  </tr>
	  </form>
	  {% endfor %}
	</tbody>
	<table>
	
<script>
	function clear() {
		for (var i = 1; i <= 14; i++)
		for (var j = 1; j <= 7; j++) {
			document.getElementById(j + '-' + i).style.background="";
		}	
	}
	
	{% for cou in course %}
		function HighLightCell{{ cou.cid }}() {
			clear();
			{% for cell in cou.cells %}
			document.getElementById("{{ cell }}").style.background="#F5DEB3";
			{% endfor %}
		}
	{% endfor %}
</script>
{% endblock %}
